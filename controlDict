// FUNCTION OBJECTS FOR FORCE ANALYSIS
// ===================================
functions
{
    // FORCE CALCULATION
    forces
    {
        type            forces;
        libs            ("libforces.so");
        writeControl    timeStep;
        writeInterval   50;
        
        patches         (baseball);
        rho             rhoInf;
        rhoInf          1.225;
        CofR            (0 0 0);
        
        log             true;
    }
    
    // FORCE COEFFICIENTS CALCULATION
    forceCoeffs
    {
        type            forceCoeffs;
        libs            ("libforces.so");
        writeControl    timeStep;
        writeInterval   50;
       
        patches         (baseball);
        rho             rhoInf;
        rhoInf          1.225;
        magUInf         31.2928;        // Will be updated by job script
        
        liftDir         (0 0 1);        // Lift direction (z-axis, vertical)
        dragDir         (1 0 0);        // Drag direction (x-axis, flow direction)
        sideDir         (0 1 0);        // Side force direction (y-axis, lateral)

        CofR            (0 0 0);        // Center of rotation
        lRef            0.0732;         // Baseball diameter (m)
        Aref            0.004215;       // Baseball cross-section (πr²)
        
        log             true;
    }
    
    // FIELD AVERAGING
    fieldAverage
    {
        type            fieldAverage;
        libs            ("libfieldFunctionObjects.so");
        writeControl    writeTime;
        
        fields
        (
            U
            {
                mean        on;
                prime2Mean  on;
                base        time;
            }
            p
            {
                mean        on;
                prime2Mean  on;
                base        time;
            }
        );
    }
}
